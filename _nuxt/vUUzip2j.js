import{O as v,b6 as se,m as ae,b7 as re,b8 as F,b9 as ie,B as T,C as j,h as _,E as l,n as C,ba as le,bb as A,_ as ce,y as N,bc as ue,aN as q,c as U,e as g,d as L,w as b,aw as V,f as y,ai as z,au as O,t as R,P as G,F as de,bd as pe,z as me,q as fe,aP as M,aS as ge,be as _e,r as he,aT as ve,bf as ye,aQ as E,aR as be,bg as Pe,aW as xe,aU as Ce,b4 as ke,D as Te,as as we}from"./BJ1Hoexr.js";import{_ as Ie}from"./CbjOxz5D.js";import{h as H,M as Se}from"./Cgfv900C.js";import"./BcoM21Dg.js";function W(s,n,o=0){const d={title:"label",path:"to"},t=Object.keys(s).reduce((m,p)=>{if(s[p]){const P=d[p]||p;m[P]=s[p]}return m},{});return Array.isArray(s.children)?t.children=s.children.map(m=>W(m,n,o+1)):t.children=[],t}function $e(s,n){return s.map(o=>W(o,n))}function K(s,n){return!(s!=null&&s.length)||!n?[]:s.reduce((o,d)=>(n.path&&(n.path+"/").startsWith(d.path+"/")&&d.children&&(o.push(d),o.push(...K(d.children,n))),o),[])}const Q=["ProseA","ProseAccordion","ProseAccordionItem","ProseBadge","ProseBlockquote","ProseCallout","ProseCard","ProseCardGroup","ProseCode","ProseCodeCollapse","ProseCodeGroup","ProseCodeIcon","ProseCodePreview","ProseCodeTree","ProseCollapsible","ProseEm","ProseField","ProseFieldGroup","ProseH1","ProseH2","ProseH3","ProseH4","ProseHr","ProseIcon","ProseImg","ProseKbd","ProseLi","ProseOl","ProseP","ProsePre","ProseScript","ProseSteps","ProseStrong","ProseTable","ProseTabs","ProseTabsItem","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","ProseCaution","ProseNote","ProseTip","ProseWarning","ProseH5","ProseH6","Icon"],J=[],Le=Object.freeze(Object.defineProperty({__proto__:null,globalComponents:Q,localComponents:J},Symbol.toStringTag,{value:"Module"})),je={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(s){const n=["render","ssrRender","__ssrInlineRender"],o=s,d=!1,t=v(()=>{let e=o.value.body||o.value;return o.excerpt&&o.value.excerpt&&(e=o.value.excerpt),e.type==="minimal"||e.type==="minimark"?se({value:e.value}):e}),m=v(()=>{var e,a;return!((a=(e=t.value)==null?void 0:e.children)!=null&&a.length)}),p=v(()=>{const{body:e,excerpt:a,...r}=o.value;return{...r,...o.data}}),P=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),{mdc:h}=ae().public||{},w=v(()=>{var e,a,r,i;return{...(e=h==null?void 0:h.components)!=null&&e.prose&&o.prose!==!1?P:{},...((a=h==null?void 0:h.components)==null?void 0:a.map)||{},...re(((i=(r=o.data)==null?void 0:r.mdc)==null?void 0:i.components)||{}),...o.components}}),I=v(()=>t.value?S(t.value,{tags:w.value}):{});function u(e){let a=e;if(typeof e=="string"){if(H.includes(e))return e;if(Q.includes(F(e))?a=le(e,!1):J.includes(F(e))&&(a=A(()=>ce(()=>Promise.resolve().then(()=>Le),void 0,import.meta.url).then(c=>{const f=c[F(e)];return f?f():void 0}))),typeof a=="string")return a}if(!a)return a;const r=a;return"__asyncLoader"in r?r:"setup"in r?A(()=>Promise.resolve(r)):r}function S(e,a){if(!e)return;const r=Array.from(new Set(x(e,a))),i={};for(const[c,f]of r)if(!i[c]){if(typeof f=="object"&&n.some($=>Object.hasOwnProperty.call(f,$))){i[c]=f;continue}i[c]=u(f)}return i}function x(e,a){const r=e.tag;if(e.type==="text"||r==="binding"||e.type==="comment")return[];const i=k(e,a.tags),c=[];e.type!=="root"&&!H.includes(i)&&c.push([r,i]);for(const f of e.children||[])c.push(...x(f,a));return c}function k(e,a){var i;const r=e.tag;return!r||typeof((i=e.props)==null?void 0:i.__ignoreMap)<"u"?r:a[r]||a[F(r)]||a[ie(e.tag)]||r}return(e,a)=>m.value?j(e.$slots,"empty",{key:1,body:t.value,data:p.value,dataContentId:l(d)?s.value.id:void 0}):(_(),T(Se,{key:0,body:t.value,data:p.value,class:C(o.class),tag:o.tag,prose:o.prose,unwrap:o.unwrap,components:I.value,"data-content-id":l(d)?s.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}},Re={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Ue={key:1,class:"hidden lg:block"},Be={__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const n=s,o=N(),[d,t]=ue({props:{link:Object,icon:String,direction:String}}),m=v(()=>{var p;return q({extend:q(Re),...((p=o.uiPro)==null?void 0:p.contentSurround)||{}})()});return(p,P)=>{var I;const h=z,w=V;return _(),U(de,null,[g(l(d),null,{default:b(({link:u,icon:S,direction:x})=>{var k,e;return[u?(_(),T(w,{key:0,to:u.path,raw:"",class:C(m.value.link({class:[(k=n.ui)==null?void 0:k.link,(e=u.ui)==null?void 0:e.link,u.class],direction:x}))},{default:b(()=>[j(p.$slots,"link",{link:u},()=>{var a,r,i,c,f,$;return[y("div",{class:C(m.value.linkLeading({class:[(a=n.ui)==null?void 0:a.linkLeading,(r=u.ui)==null?void 0:r.linkLeading]}))},[j(p.$slots,"link-leading",{link:u},()=>{var B,D;return[g(h,{name:u.icon||S,class:C(m.value.linkLeadingIcon({class:[(B=n.ui)==null?void 0:B.linkLeadingIcon,(D=u.ui)==null?void 0:D.linkLeadingIcon],direction:x}))},null,8,["name","class"])]})],2),y("p",{class:C(m.value.linkTitle({class:[(i=n.ui)==null?void 0:i.linkTitle,(c=u.ui)==null?void 0:c.linkTitle]}))},[j(p.$slots,"link-title",{link:u},()=>[O(R(u.title),1)])],2),y("p",{class:C(m.value.linkDescription({class:[(f=n.ui)==null?void 0:f.linkDescription,($=u.ui)==null?void 0:$.linkDescription]}))},[j(p.$slots,"link-description",{link:u},()=>[O(R(u.description),1)])],2)]})]),_:2},1032,["to","class"])):(_(),U("span",Ue,"Â "))]}),_:3}),s.surround?(_(),T(l(G),{key:0,as:s.as,class:C(m.value.root({class:[(I=n.ui)==null?void 0:I.root,n.class]}))},{default:b(()=>[g(l(t),{link:s.surround[0],icon:s.prevIcon||l(o).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),g(l(t),{link:s.surround[1],icon:s.nextIcon||l(o).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},8,["as","class"])):L("",!0)],64)}}},De={base:"mt-8 pb-24 space-y-12"},Fe={__name:"UPageBody",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(s){const n=s,o=N(),d=v(()=>{var t;return q({extend:q(De),...((t=o.uiPro)==null?void 0:t.pageBody)||{}})});return(t,m)=>(_(),T(l(G),{as:s.as,class:C(d.value({class:n.class}))},{default:b(()=>[j(t.$slots,"default")]),_:3},8,["as","class"]))}};function qe(s,n="Copied to clipboard"){const o=pe();navigator.clipboard.writeText(s).then(()=>{o.add({title:n,color:"success",icon:"i-lucide-check-circle"})})}const Oe={class:"flex flex-col gap-3 mt-8"},Ae={class:"flex text-xs text-muted items-center justify-center gap-2"},Me={key:0},Ee={key:1},He={key:2},Ne={class:"text-4xl text-center font-medium max-w-3xl mx-auto mt-4"},Ve={class:"text-muted text-center max-w-2xl mx-auto"},ze={class:"flex items-center justify-center gap-2 mt-2"},Ge={class:"flex items-center justify-end gap-2 text-sm text-muted"},Ye=me({__name:"[...slug]",async setup(s){var S,x,k,e,a,r;let n,o;const d=fe(),{data:t}=([n,o]=M(()=>E(d.path,()=>be("blog").path(d.path).first(),"$DquttgHoet")),n=await n,o(),n);if(!t.value)throw ge({statusCode:404,statusMessage:"Page not found",fatal:!0});const{data:m}=([n,o]=M(()=>E(`${d.path}-surround`,()=>Pe("blog",d.path,{fields:["description"]}))),n=await n,o(),n),p=_e("navigation",he([])),P=v(()=>{var i;return((i=p.value.find(c=>c.path==="/blog"))==null?void 0:i.children)||[]});v(()=>$e(K(P==null?void 0:P.value,t.value)).map(({icon:i,...c})=>c)),t.value.image;const h=((x=(S=t.value)==null?void 0:S.seo)==null?void 0:x.title)||((k=t.value)==null?void 0:k.title),w=((a=(e=t.value)==null?void 0:e.seo)==null?void 0:a.description)||((r=t.value)==null?void 0:r.description);ve({title:h,description:w,ogDescription:w,ogTitle:h});const I=v(()=>`${window==null?void 0:window.location}`),u=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(i,c)=>{const f=z,$=V,B=ke,D=Ie,X=je,Y=we,Z=Be,ee=Fe,te=Ce,oe=xe,ne=ye;return _(),T(ne,{class:"mt-20 px-2"},{default:b(()=>[g(oe,{class:"relative min-h-screen"},{default:b(()=>[l(t)?(_(),T(te,{key:0},{default:b(()=>[g($,{to:"/blog",class:"text-sm flex items-center gap-1"},{default:b(()=>[g(f,{name:"lucide:chevron-left"}),c[1]||(c[1]=O(" Blog "))]),_:1,__:[1]}),y("div",Oe,[y("div",Ae,[l(t).date?(_(),U("span",Me,R(u(l(t).date)),1)):L("",!0),l(t).date&&l(t).minRead?(_(),U("span",Ee," - ")):L("",!0),l(t).minRead?(_(),U("span",He,R(l(t).minRead)+" MIN READ ",1)):L("",!0)]),g(B,{src:l(t).image,alt:l(t).title,class:"rounded-lg w-full h-[300px] object-cover object-center"},null,8,["src","alt"]),y("h1",Ne,R(l(t).title),1),y("p",Ve,R(l(t).description),1),y("div",ze,[g(D,Te({orientation:"vertical",color:"neutral",variant:"outline",class:"justify-center items-center text-center"},l(t).author),null,16)])]),g(ee,{class:"max-w-3xl mx-auto"},{default:b(()=>[l(t).body?(_(),T(X,{key:0,value:l(t)},null,8,["value"])):L("",!0),y("div",Ge,[g(Y,{size:"sm",variant:"link",color:"neutral",label:"Copy link",onClick:c[0]||(c[0]=We=>("copyToClipboard"in i?i.copyToClipboard:l(qe))(l(I),"Article link copied to clipboard"))})]),g(Z,{surround:l(m)},null,8,["surround"])]),_:1})]),_:1})):L("",!0)]),_:1})]),_:1})}}});export{Ye as default};
